---
layout: default
---
<div class="hero-section">
    <h1 class="hero-title">üéÆ CrocPRM Server</h1>
    <p class="hero-subtitle">Bora meus conclavos!!</p>
    
    <div class="links-section">
        <div class="download-container">
            <a href="https://drive.google.com/file/d/1HN8GmRmT1tXbHBKS-o3zOPdmdOyEfcmQ" class="main-link download">
                üì• Baixar Cliente
            </a>
        </div>
        <a href="https://discord.gg/QnbWkGjs" class="main-link discord">
            üí¨ Discord do Rusbando
        </a>
        <a href="/CrocPRMsite/analysis/exp-analysis.html" class="main-link">
            üìä An√°lise de XP Interativa
        </a>
    </div>
    
    <!-- Music Player -->
    <div class="music-player">
        <audio id="backgroundMusic" loop autoplay>
            <source src="/CrocPRMsite/assets/music/ost.mp3" type="audio/mpeg">
            Seu navegador n√£o suporta o elemento de √°udio.
        </audio>
        <div class="music-controls">
            <button id="playPauseBtn" class="music-btn">üéµ</button>
            <div class="music-info">
                <span id="musicTitle">FFXIV OST Amaurot Dungeon Theme (Mortal Instants)</span>
            </div>
            <div class="volume-control">
                <input type="range" id="volumeSlider" min="0" max="100" value="10">
                <span id="volumeDisplay">10%</span>
            </div>
        </div>
    </div>
</div>

<div class="registration-section">
    <h2>üìù Como se Cadastrar</h2>
    <p class="section-description">Passo a passo para criar sua conta no servidor</p>
    
    <div class="registration-steps">
        <div class="registration-step">
            <div class="step-number">1</div>
            <div class="step-content">
                <h3>Baixe o Cliente</h3>
                <p>Fa√ßa o download do cliente</p>
            </div>
        </div>
        
        <div class="registration-step">
            <div class="step-number">2</div>
            <div class="step-content">
                <h3>Execute o Cliente</h3>
                <p>Execute o arquivo <code>PRM.exe</code></p>
            </div>
        </div>
        
        <div class="registration-step">
            <div class="step-number">3</div>
            <div class="step-content">
                <h3>Cadastro na Tela de Login</h3>
                <p>Na tela de login, crie um usu√°rio e no final do nome, adicione:</p>
                <div class="command-examples">
                    <div class="command">
                        <code>_M</code>
                        <span>para conta masculina</span>
                    </div>
                    <div class="command">
                        <code>_F</code>
                        <span>para conta feminina</span>
                    </div>
                </div>
                <p class="step-note">Exemplo: <code>MeuUsuario_M</code> ou <code>MinhaUsuario_F</code></p>
            </div>
        </div>
        
        <div class="registration-step">
            <div class="step-number">4</div>
            <div class="step-content">
                <h3>Pronto!</h3>
                <p>Da pr√≥xima vez, n√£o precisa colocar o <code>_M</code> ou <code>_F</code> - s√≥ seu usu√°rio e senha!</p>
            </div>
        </div>
    </div>
</div>

<div class="patches-section">
    <h2>üìã Patch Notes</h2>
    <p class="section-description">Clique em um patch para ver os detalhes completos</p>
    
    <div class="patches-list">
        <div class="patch-item" onclick="togglePatch('patch-v2-1-1')">
            <div class="patch-header">
                <div class="patch-title">
                    <h3>Patch v2.1.1 ‚Äî Corre√ß√µes e Ajustes</h3>
                    <div class="patch-meta">
                        <span class="patch-date">üìÖ 6 de Outubro, 2025</span>
                        <span class="patch-version">üè∑Ô∏è v2.1.1</span>
                    </div>
                </div>
                <div class="patch-toggle">
                    <span class="toggle-icon">‚ñº</span>
                </div>
            </div>
            
            <div class="patch-content" id="patch-v2-1-1">
                <div class="patch-body">
                     <h4>TL;DR</h4>
                     <ul>
                         <li><strong>Shadow de Jester 120</strong>: corrigido (estava dando 2% de matk e 100% de mdef).</li>
                         <li><strong>XP de Death Castle</strong>: ajustada com redu√ß√µes significativas (at√© -56.1%).</li>
                         <li><strong>@memo</strong>: implementado.</li>
                         <li><strong>#main</strong>: cooldown reduzido de 10 segundos para 3 segundos.</li>
                         <li><strong>Tracker da dura√ß√£o do Frenzy</strong>: implementado.</li>
                         <li><strong>SC_TENSIONRELAX</strong>: efeito removido (n√£o for√ßa mais o Legend √† sentar).</li>
                         <li><strong>Sistema de drop de visual paralelo</strong>: alguns visuais estavam dando atributos indevidos - corrigidos.</li>
                         <li><strong>Deadly Rose</strong>: troca da rel√≠quia necess√°ria (era da Valkyrie, agora √© do Dr√°cula).</li>
                     </ul>
                    
                    <div class="patch-actions">
                        <a href="/CrocPRMsite/2025/10/06/v2-1-1.html" class="patch-link">
                            üìñ Ver Patch Completo
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="patch-item" onclick="togglePatch('patch-v2-1-0')">
            <div class="patch-header">
                <div class="patch-title">
                    <h3>Patch v2.1.0 ‚Äî Corre√ß√µes e Novas Implementa√ß√µes</h3>
                    <div class="patch-meta">
                        <span class="patch-date">üìÖ 5 de Outubro, 2025</span>
                        <span class="patch-version">üè∑Ô∏è v2.1.0</span>
                    </div>
                </div>
                <div class="patch-toggle">
                    <span class="toggle-icon">‚ñº</span>
                </div>
            </div>
            
            <div class="patch-content" id="patch-v2-1-0">
                <div class="patch-body">
                     <h4>TL;DR</h4>
                     <ul>
                         <li><strong>Bugs</strong>: Medic Manual X, Illusion of Exchange, Combo Ready, @showexp/@showzeny do Alfred, cartas Star Scourge e Astrologika.</li>
                         <li><strong>Growth Shadow Coffers</strong>: 10 monstros da faixa 30-50 agora dropam + shadows Unseen World e School of Cats adicionados.</li>
                         <li><strong>Random Options</strong>: Growth Shadow Coffers com valor m√°ximo + atributo reduzido para 3 (era 5).</li>
                         <li><strong>Peso limite</strong>: escala com n√≠vel (n√£o mais STR). N√≠vel 150 = peso de STR 99.</li>
                         <li><strong>Area Loot</strong>: custo 0 de SP.</li>
                         <li><strong>Rachel Nightmare</strong>: dificultada com nova mec√¢nica para incentivar conte√∫do em grupo.</li>
                         <li><strong>Mapa da distor√ß√£o Einbroch Deadlands</strong>: adicionada flag de PVP (como era pra ser).</li>
                     </ul>
                    
                    <div class="patch-actions">
                        <a href="/CrocPRMsite/2025/10/05/v2-1-0.html" class="patch-link">
                            üìñ Ver Patch Completo
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="patch-item" onclick="togglePatch('patch-v2-0-0')">
            <div class="patch-header">
                <div class="patch-title">
                    <h3>Patch v2.0.0 ‚Äî In√≠cio do CrocPRM</h3>
                    <div class="patch-meta">
                        <span class="patch-date">üìÖ 29 de Setembro, 2025</span>
                        <span class="patch-version">üè∑Ô∏è v2.0.0</span>
                    </div>
                </div>
                <div class="patch-toggle">
                    <span class="toggle-icon">‚ñº</span>
                </div>
            </div>
            
            <div class="patch-content" id="patch-v2-0-0">
                <div class="patch-body">
                     <h4>TL;DR</h4>
                     <ul>
                         <li><strong>Rates</strong>: Zeny 3√ó, XP 2√ó, Drops 3√ó. (Cartas normais 2,01% e cartas MVP 5,01%)</li>
                         <li><strong>HP/SP M√°ximo</strong> aumentado para <strong>55k</strong>.</li>
                         <li><strong>XP 126‚Äì150</strong> mais suavizada (‚âà<strong>‚Äì60%</strong> de XP total necess√°ria).</li>
                         <li><strong>Loot revisado</strong> (Relics 0,48%, Orbs, Lost Rune Coffer, Galactic Dust, etc.) + <strong>Cartas MVP 5,01%</strong> + <strong>Cartas Normais 2,01%</strong>.</li>
                         <li><strong>Bifrostmirror</strong> agora √© <strong>account-wide</strong>.</li>
                         <li><strong>Random Options</strong> sempre no <strong>valor m√°ximo</strong> + itens j√° <strong>identificados</strong>.</li>
                         <li><strong>Visual Drop</strong> substitui "equip/carta que aumenta drop" no sistema padr√£o.</li>
                         <li>Ajustes em <strong>Gift Boxes</strong>: RNG suavizado p/ quests dos aneis de unchained job.</li>
                         <li><strong>Novo NPC</strong> misterioso no Orfanato.</li>
                         <li><strong>Celestial Tome</strong>: exige <strong>30 Hatred quests</strong> + <strong>n√≠vel 130</strong>.</li>
                         <li><strong>Goblin King Relic</strong> implementada.</li>
                         <li><strong>Abandoned Castle</strong>: passa a dropar <strong>Crumb of Sobbing Starlight</strong> e <strong>Emperium</strong>.</li>
                     </ul>
                    
                    <div class="patch-actions">
                        <a href="/CrocPRMsite/2025/09/29/v2-0-0.html" class="patch-link">
                            üìñ Ver Patch Completo
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="roadmap-section">
    <h2>üó∫Ô∏è Roadmap</h2>
    <p class="section-description">Planos futuros para o CrocPRM Server</p>
    
    <div class="roadmap-content">
        <div class="roadmap-item priority-high">
            <div class="roadmap-icon">üè∞</div>
            <div class="roadmap-text">
                <h3>Cria√ß√£o de Dungeon</h3>
                <p>Nova dungeon para faixa de n√≠vel 115-125 (envolvendo o NPC misterioso no orfanato...)</p>
                <span class="roadmap-status">Em desenvolvimento</span>
            </div>
        </div>
        
        <div class="roadmap-item priority-medium">
            <div class="roadmap-icon">‚öñÔ∏è</div>
            <div class="roadmap-text">
                <h3>Balanceamento de Classes</h3>
                <p>Melhorias cont√≠nuas baseadas no feedback da comunidade (conto muito com vcs, pois s√£o muitas classes)</p>
                <span class="roadmap-status">Cont√≠nuo</span>
            </div>
        </div>
        
        <div class="roadmap-item priority-low">
            <div class="roadmap-icon">üéâ</div>
            <div class="roadmap-text">
                <h3>Evento Final</h3>
                <p>Algo pra concluir a hist√≥ria dos √≥rf√£os?</p>
                <span class="roadmap-status">Futuro</span>
            </div>
        </div>
        
        <div class="roadmap-item priority-ongoing">
            <div class="roadmap-icon">üêõ</div>
            <div class="roadmap-text">
                <h3>Corre√ß√µes e Melhorias</h3>
                <p>Corre√ß√£o de bugs e implementa√ß√£o de novas ideias (qualquer coisa, meu discord e o t√≥pico do server est√£o abertos!)</p>
                <span class="roadmap-status">Sempre ativo</span>
            </div>
        </div>
    </div>
    
    <div class="roadmap-footer">
        <p><strong>Quem animar de jogar comigo, vai ser top!</strong> Espero que seja um esquenta divertido para o t√£o aguardado e magn√¢nimo <strong>Luna Obscura</strong>!</p>
    </div>
</div>

<script>
function togglePatch(patchId) {
    const content = document.getElementById(patchId);
    const toggleIcon = content.previousElementSibling.querySelector('.toggle-icon');
    const patchItem = content.closest('.patch-item');
    
    if (content.style.display === 'block') {
        content.style.display = 'none';
        toggleIcon.textContent = '‚ñº';
        patchItem.classList.remove('expanded');
    } else {
        content.style.display = 'block';
        toggleIcon.textContent = '‚ñ≤';
        patchItem.classList.add('expanded');
    }
}

// Music Player Controls
document.addEventListener('DOMContentLoaded', function() {
    const audio = document.getElementById('backgroundMusic');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const volumeDisplay = document.getElementById('volumeDisplay');
    const musicTitle = document.getElementById('musicTitle');

    // Build playlist from Jekyll static files under assets/music
    let playlist = [
        {% assign tracks = site.static_files | where_exp: "f", "f.path contains '/assets/music/'" %}
        {% for f in tracks %}
            {% if f.extname == '.mp3' or f.extname == '.ogg' or f.extname == '.wav' %}
            { title: '{{ f.name }}', src: '{{ f.path | prepend: site.baseurl }}' }{% if forloop.last == false %},{% endif %}
            {% endif %}
        {% endfor %}
    ].filter(Boolean);
    // Fallback: if Liquid didn't populate, build from current <source>
    if (!playlist.length) {
        const currentSourceEl = audio.querySelector('source');
        if (currentSourceEl && currentSourceEl.src) {
            const url = currentSourceEl.getAttribute('src') || currentSourceEl.src;
            const fileName = url.split('/').pop() || 'music';
            playlist = [{ title: fileName, src: url }];
        }
    }
    // Ensure we don't loop a single track; we want to advance when it ends
    audio.loop = false;
    let currentTrackIndex = 0;
    
    function clampIndex(index) {
        if (playlist.length === 0) return 0;
        return ((index % playlist.length) + playlist.length) % playlist.length;
    }

    function loadTrack(index, restoreTime = false) {
        if (playlist.length === 0) return;
        currentTrackIndex = clampIndex(index);
        const track = playlist[currentTrackIndex];
        // Update both <audio> src and inner <source> for broader browser support
        const sourceEl = audio.querySelector('source');
        if (sourceEl) sourceEl.setAttribute('src', track.src);
        audio.src = track.src;
        // Force reload so metadata/title reflect the new source
        audio.load();
        if (musicTitle) musicTitle.textContent = track.title;
        // no cross-page sync: do not restore time/track from storage
    }

    function nextTrack() {
        if (playlist.length === 0) return;
        const nextIndex = clampIndex(currentTrackIndex + 1);
        loadTrack(nextIndex, false);
        if (!audio.paused) {
            audio.play().catch(() => {});
        }
    }
    
    // Set initial volume from saved state or default
    const initialVolume = 0.1;
    audio.volume = initialVolume;
    volumeSlider.value = Math.round(initialVolume * 100);
    volumeDisplay.textContent = Math.round(initialVolume * 100) + '%';
    
    // Initialize first track (restore saved track if available)
    loadTrack(0, false);

    // Force update display
    setTimeout(() => {
        volumeSlider.value = Math.round(initialVolume * 100);
        volumeDisplay.textContent = Math.round(initialVolume * 100) + '%';
    }, 100);
    
    // Auto-play with user interaction (browsers require this)
    let hasUserInteracted = false;
    
    function enableAudio() {
        if (!hasUserInteracted) {
            // No cross-page sync: start paused until user hits play
            hasUserInteracted = true;
        }
    }
    
    // Enable audio on first user interaction
    document.addEventListener('click', enableAudio, { once: true });
    document.addEventListener('keydown', enableAudio, { once: true });
    
    // Play/Pause button
    playPauseBtn.addEventListener('click', function() {
        if (audio.paused) {
            audio.play();
            playPauseBtn.textContent = '‚è∏Ô∏è';
        } else {
            audio.pause();
            playPauseBtn.textContent = 'üéµ';
        }
    });
    
    // Volume control
    volumeSlider.addEventListener('input', function() {
        const volume = this.value / 100;
        audio.volume = volume;
        volumeDisplay.textContent = this.value + '%';
    });
    
    // Update button state based on audio state
    audio.addEventListener('play', function() {
        playPauseBtn.textContent = '‚è∏Ô∏è';
    });
    
    audio.addEventListener('pause', function() {
        playPauseBtn.textContent = 'üéµ';
    });
    
    // No cross-page sync: do not persist current time
    
    // Advance to next track when current ends
    audio.addEventListener('ended', function() {
        nextTrack();
    });

    // Initial button state remains paused icon
});
</script>
